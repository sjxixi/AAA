{% extends 'base.html' %}
{% load permission_tags %}

{% block content %}
<div class="detail-header">
    <h2>{{ device.hostname }} - 服务器详情</h2>
    <div>
        {% if user|can_edit_server:device %}
        <a href="{% url 'assets:server_edit' device.id %}" class="btn btn-primary">
            <i class="fas fa-edit"></i> 编辑
        </a>
        {% endif %}
        <a href="{% url 'assets:server_list' %}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> 返回列表
        </a>
    </div>
</div>

<div class="detail-section">
    <h3><i class="fas fa-info-circle"></i> 基本信息</h3>
    <div class="detail-grid">
        <div class="detail-item">
            <label>主机名</label>
            <span>{{ device.hostname }}</span>
        </div>
        <div class="detail-item">
            <label>IP地址</label>
            <span>{{ device.ip_address }}</span>
        </div>
        <div class="detail-item">
            <label>MAC地址</label>
            <span>{{ device.mac_address }}</span>
        </div>
        <div class="detail-item">
            <label>状态</label>
            <span class="status-badge status-{{ device.status|lower }}">{{ device.get_status_display }}</span>
        </div>
        <div class="detail-item">
            <label>数据中心</label>
            <span>{{ device.data_center }}</span>
        </div>
        <div class="detail-item">
            <label>机架位置</label>
            <span>{{ device.rack_position }}</span>
        </div>
    </div>
</div>

<div class="detail-section">
    <h3><i class="fas fa-microchip"></i> 硬件信息</h3>
    <div class="detail-grid">
        <div class="detail-item">
            <label>CPU型号</label>
            <span>{{ device.cpu_model }}</span>
        </div>
        <div class="detail-item">
            <label>CPU数量</label>
            <span>{{ device.cpu_count }}</span>
        </div>
        <div class="detail-item">
            <label>CPU核心数</label>
            <span>{{ device.cpu_cores }}</span>
        </div>
        <div class="detail-item">
            <label>内存大小</label>
            <span>{{ device.memory_size }}GB</span>
        </div>
    </div>
    <div class="hardware-info">
        <label>硬盘信息</label>
        <pre>{{ device.disk_info }}</pre>
    </div>
</div>

<div class="detail-section">
    <h3><i class="fas fa-cog"></i> 系统信息</h3>
    <div class="detail-grid">
        <div class="detail-item">
            <label>操作系统</label>
            <span>{{ device.os_type }} {{ device.os_version }}</span>
        </div>
        <div class="detail-item">
            <label>业务系统</label>
            <span>{{ device.business_system }}</span>
        </div>
        <div class="detail-item">
            <label>序列号</label>
            <span>{{ device.sn }}</span>
        </div>
        <div class="detail-item">
            <label>制造商</label>
            <span>{{ device.manufacturer }}</span>
        </div>
    </div>
</div>
{% endblock %} 